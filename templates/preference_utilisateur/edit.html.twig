{# templates/preference_utilisateur/edit.html.twig #}
{% extends 'base.html.twig' %}
{% block title %}Modifier mes préférences{% endblock %}

{% block body %}
{% set isPassenger = app.user and 'ROLE_PASSAGER' in app.user.roles %}
{% set isDriver    = app.user and 'ROLE_DRIVER'   in app.user.roles %}
{% set mode        = isDriver ? 'Conducteur' : 'Passager' %}

<section class="py-5 bg-light">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center">
      <div>
        <h1 class="h4 text-primary mb-1">Mes préférences — vous êtes en mode {{ mode }}</h1>
        <p class="text-muted mb-0">Ajustez vos règles de confort pour vos trajets (tabac, animaux, conversation, musique, etc.).</p>
      </div>
      <div class="text-end">
        <a href="{{ path('app_profile') }}" class="btn btn-outline-secondary">← Retour au profil</a>
      </div>
    </div>
    <hr class="mt-4">
  </div>
</section>

<div class="container my-4">
  <div class="row g-4">

    {# ===== Colonne gauche : formulaire ===== #}
    <div class="col-lg-8">
      <div class="card border-0 shadow-sm">
        <div class="card-body p-4">
          {# Ton formulaire en grille/carte (celui qu’on a fait juste avant) #}
          {{ include('preference_utilisateur/_form.html.twig', {'button_label': 'Enregistrer'}) }}
        </div>
      </div>
    </div>

    {# ===== Colonne droite : actions ===== #}
    <div class="col-lg-4">
      <div class="card border-0 shadow-sm">
        <div class="card-header bg-white">
          <strong>Actions</strong>
        </div>
        <div class="card-body d-grid gap-2">
          <a href="{{ path('app_preference_utilisateur_index') }}" class="btn btn-outline-secondary">
            Retour à la liste
          </a>
          

        

          <a href="{{ path('app_logout') }}" class="btn btn-outline-danger">Se déconnecter</a>
        </div>
      </div>
    </div>

  </div>
</div>
{% endblock %}
